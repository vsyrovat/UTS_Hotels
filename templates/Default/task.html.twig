{% extends 'base.html.twig' %}

{% block task_active%} active{% endblock %}

{% block body %}
    <h1>Практические задания</h1>
    <div class="row">
        <div class="col-lg-12">
            <h2>1. Группировка по отелям</h2>
            <h3>Вводные данные</h3>
            <p>
                Сейчас вывод результатов поиска отелей выглядит так:
            </p>
            <div class="row">
                <div class="col-lg-1">1</div>
                <div class="col-lg-6">
                    <span class="text-capitalize">ADAGIO</span>
                    <span class="text-primary">Standard Single</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">71.50 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">2</div>
                <div class="col-lg-6">
                    <span class="text-capitalize">ADAGIO</span>
                    <span class="text-primary">Standard Twin</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">86.50 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">3</div>
                <div class="col-lg-6">
                    <span class="text-capitalize">ADAGIO</span>
                    <span class="text-primary">Standard Triple</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">112.00 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">4</div>
                <div class="col-lg-6">
                    <span class="text-capitalize">ADAGIO</span>
                    <span class="text-primary">Standard Quad</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">141.50 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">5</div>
                <div class="col-lg-6">
                    <span class="text-capitalize">Catalonia Portal De L&#039;Angel</span>
                    <span class="text-primary">Standard Single</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">44.00 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">6</div>
                <div class="col-lg-6">
                    <span class="text-capitalize">Catalonia Portal De L&#039;Angel</span>
                    <span class="text-primary">Standard Twin</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">69.00 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">7</div>
                <div class="col-lg-6">
                    <span class="text-capitalize">Catalonia Portal De L&#039;Angel</span>
                    <span class="text-primary">Standard Triple</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">94.50 USD</div>
            </div><br/>
            <h3>Задача</h3>
            <p>
                Нужно добиться того, чтобы предложения были сгруппированы по отелю
            </p>
            <div class="row bg-info">
                <div class="col-lg-1">1</div>
                <div class="col-lg-6">
                    <span class="text-capitalize">Catalonia Portal De L&#039;Angel</span>
                </div>
                <div class="col-lg-2">от 44.00 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">&nbsp;</div>
                <div class="col-lg-6">
                    <span class="text-primary">Standard Single</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">44.00 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">&nbsp;</div>
                <div class="col-lg-6">
                    <span class="text-primary">Standard Twin</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">69.00 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">&nbsp;</div>
                <div class="col-lg-6">
                    <span class="text-primary">Standard Triple</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">94.50 USD</div>
            </div>
            <div class="row bg-info">
                <div class="col-lg-1">2</div>
                <div class="col-lg-6">
                    <span class="text-capitalize">ADAGIO</span>
                </div>
                <div class="col-lg-2">от 71.50 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">&nbsp;</div>
                <div class="col-lg-6">
                    <span class="text-primary">Standard Single</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">71.50 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">&nbsp;</div>
                <div class="col-lg-6">
                    <span class="text-primary">Standard Twin</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">86.50 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">&nbsp;</div>
                <div class="col-lg-6">
                    <span class="text-primary">Standard Triple</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">112.00 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">&nbsp;</div>
                <div class="col-lg-6">
                    <span class="text-primary">Standard Quad</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2">141.50 USD</div>
            </div><br/>
            <p>
                Внимание. Группировка означает, что все (!) предложения этого отеля должны быть собраны
                вместе и выводиться на одной странице.
                Дополнительные требования:
            </p>
            <ul>
                <li>Отели должны выводится в порядке минимальной стоимости проживания.</li>
                <li>Фраза <span class="text-muted">Всего предложений: XXXX</span> должна измениться
                    на <span class="text-muted">Найдено отелей: XXX</span> и отражать количество найденных
                    отелей, а не номеров в них.
                </li>
            </ul>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <h2>2. Специальные предложения</h2>
            <h3>Вводные данные</h3>
            <p>
                На странице <a href="{{ path('special_offer') }}" target="_blank">Специальные предложения</a> вы можете
                увидеть список "Акций", по условиям которых мы хотим предоставить скидку нашим клиентам.
            </p>
            <p>
                У каждого спецпредложения могут быть указаны:
            </p>
            <ul>
                <li>Только страна - предложение действует для всех отелей в этой стране</li>
                <li>Страна и город - предложение действует для всех отелей в этом городе</li>
                <li>Страна, город и отель - предложение действует только для этого отеля</li>
            </ul>
            <p>
                А так же, тип скидки:
            </p>
            <ul>
                <li>Процент - расчитывается от полной стоимости номера</li>
                <li>Рубли - фиксированная сумма в отечественной валюте</li>
            </ul>
            <p>
                Размер скидки и признак активности данного спецпредложения.
            </p>
            <p>
                В настоящее время эти "Акции" ни как не используются.
            </p>
            <h3>Задача</h3>
            <p>
                Вам необходимо организовать проверку возможности применения спецпредложения к результату
                поиска. Если по совпадению страны, города или отеля, применить специальное предложение
                возможно, то вывести информацию о новой стоимости и название акции.
            </p>
            <div class="row bg-info">
                <div class="col-lg-1">1</div>
                <div class="col-lg-6">
                    <span class="text-capitalize">Catalonia Portal De L&#039;Angel</span>
                </div>
                <div class="col-lg-2">от 27.33 USD</div>
            </div>
            <div class="row">
                <div class="col-lg-1">&nbsp;</div>
                <div class="col-lg-4">
                    <span class="text-primary">Standard Single</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2 text-danger"><s>44.00 USD</s></div>
                <div class="col-lg-2">27.33 USD</div>
                <div class="col-lg-3">1000 рублей всем</div>
            </div>
            <div class="row">
                <div class="col-lg-1">&nbsp;</div>
                <div class="col-lg-4">
                    <span class="text-primary">Standard Twin</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2 text-danger"><s>69.00 USD</s></div>
                <div class="col-lg-2">52.33 USD</div>
                <div class="col-lg-3">1000 рублей всем</div>
            </div>
            <div class="row">
                <div class="col-lg-1">&nbsp;</div>
                <div class="col-lg-4">
                    <span class="text-primary">Standard Triple</span>
                    <span class="text-muted">(Завтрак)</span>
                </div>
                <div class="col-lg-2 text-danger"><s>94.50 USD</s></div>
                <div class="col-lg-2">75.60 USD</div>
                <div class="col-lg-3">20% за хороший заказ</div>
            </div>
            <p>
                Возможны ситуации, когда к одному варианту размещения, подходит сразу несколько специальных предложений.
                В таком случае, нужно выбрать одно, руководствуясь приоритетами:
            </p>
            <ul>
                <li>Предложение с указанием конкретного отеля важнее предложений с указанием только города или страны</li>
                <li>Предложение без отеля, но с городом, важнее предложения для всей страны без указания города</li>
                <li>Если два предложения имеют одинаковый приоритет, нужно выбрать то из них, которое предоставит наибольшую скидку</li>
            </ul>
        </div>
    </div>
{% endblock %}